(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{267:function(t,a,s){"use strict";s.r(a);var e=s(5),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"路由原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由原理"}},[t._v("#")]),t._v(" 路由原理")]),t._v(" "),s("p",[t._v("路由模式")]),t._v(" "),s("ul",[s("li",[t._v("hash")]),t._v(" "),s("li",[t._v("history 需要后端支持")]),t._v(" "),s("li")]),t._v(" "),s("h2",{attrs:{id:"hash模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash模式"}},[t._v("#")]),t._v(" hash模式")]),t._v(" "),s("ul",[s("li",[t._v("通过hash的变化触发页面的跳转，即浏览器的前进后退。")]),t._v(" "),s("li",[t._v("hash变化不需要刷新页面。")]),t._v(" "),s("li",[t._v("hash永远不会提交到server端，前端控制。")])]),t._v(" "),s("p",[t._v("触发hash变化的几种情况")]),t._v(" "),s("ul",[s("li",[t._v("1 js修改url")]),t._v(" "),s("li",[t._v("2 手动修改url的hash")]),t._v(" "),s("li",[t._v("3 浏览器前进后退")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("window.onhashchange = (event) =>{\n    console.log('oldUrl',event.oldURL)\n    console.log('newUrl',event.newURL)\n    //当前hash值\n    console.log('hash',location.hash)\n}\n")])])]),s("h2",{attrs:{id:"history"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history"}},[t._v("#")]),t._v(" history")]),t._v(" "),s("ul",[s("li",[t._v("用url规范的路由，但跳转时不刷新页面。")]),t._v(" "),s("li",[t._v("核心 pushState && onpopState")]),t._v(" "),s("li",[t._v("history路由需要服务器的支持，并且需将所有的路由重定向倒根页面。")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const state = {name: 'page1'}\nhistory.pushState(state,'','page1');//跳转到page1\n\n//监听浏览器前进 后退\nwindow.onpopstate = (event) =>{\n    console.log('onpopstate',event.state,location.pathname)\n}\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);